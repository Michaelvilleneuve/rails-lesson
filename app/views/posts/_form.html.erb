<%= form_with(model: post, local: true) do |form| %>
  <% if post.errors.any? %>
    <div id="error_explanation">
      <h5><%= pluralize(post.errors.count, "erreur") %> a empêché l'enregistrement :</h5>

      <ul>
      <% post.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
      </ul>
    </div>
  <% end %>

  <div class="field">
    <%= form.label :titre %>
    <%= form.text_field :title, id: :post_title, class: 'form-control' %>
  </div>

  <div class="field">
    <hr>
    <% if @post.persisted? %>
      <%= image_tag @post.image.url(:thumb) %>
    <% else %>
      <%= form.label :image %>
    <% end %>
    <br>
    <br>
    <%= form.file_field :image %>
    <hr>
  </div>

  <div class="field">
    <%= form.label :contenu %>
    <%= form.text_area :content, id: :post_content, class: 'form-control', style: 'min-height: 100px' %>
  </div>

  <div class="actions">
    <br>
    <button type="submit" class="btn btn-info">Envoyer</button>
  </div>
<% end %>
